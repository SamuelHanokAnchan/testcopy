<div class="app-container">
  <div class="canvas-section">
    <div class="canvas-header">
      <h2>Flächenauswahl</h2>
      <div class="header-info">
        <span class="info-badge">Punkte: {{ clickedPoints.length }}</span>
        <span class="info-badge">Gebiete: {{ areas.length }}</span>
      </div>
    </div>

    <div class="controls-group">
      <div class="button-group">
        <button 
          (click)="setSelectionMode(AreaMode.SMART)" 
          class="btn btn-primary"
          [class.active]="areaSelectionMode === AreaMode.SMART"
          id="button_smart">
          Intelligente Auswahl
        </button>
        <button 
          (click)="setSelectionMode(AreaMode.MANUAL)" 
          class="btn btn-primary"
          [class.active]="areaSelectionMode === AreaMode.MANUAL"
          id="button_manual">
          Manuelle Auswahl
        </button>
      </div>
      <div class="button-group">
        <button 
          (click)="toggleEditMode()"
          [class.active]="isEditMode"
          [style.backgroundColor]="isEditMode ? '#10b981' : ''"
          [style.color]="isEditMode ? '#fff' : ''"
          class="btn btn-secondary">
          Punkt bearbeiten
        </button>
        <button 
          (click)="undo()"
          [disabled]="stateHistory.length === 0"
          class="btn btn-secondary">
          Rückgängig
        </button>
      </div>
    </div>

    <div class="canvas-wrapper">
      <canvas 
        #canvasElement
        (click)="onCanvasClick($event)" 
        [class.pan-mode]="isPanMode && zoomLevel > 1"
        class="drawing-canvas">
      </canvas>
    </div>

    <div class="action-buttons">
      <button (click)="exportPdf()" class="btn btn-success">
        PDF exportieren
      </button>
      <div class="zoom-buttons">
        <button 
          (click)="zoomOut()"
          class="btn btn-zoom">
          −
        </button>
        <span class="zoom-level">{{ (zoomLevel * 100).toFixed(0) }}%</span>
        <button 
          (click)="zoomIn()"
          class="btn btn-zoom">
          +
        </button>
        <button 
          (click)="resetZoom()"
          class="btn btn-zoom"
          title="Zoom zurücksetzen">
          ⟲
        </button>
      </div>
    </div>
  </div>

  <div class="sidebar-section">
    <app-area-list 
      (areasUpdated)="onAreasUpdated()" 
      (selectedAreaChange)="onSelectedAreaChange($event)"
      [(selectedArea)]="selectedArea"
      [areas]="areas">
    </app-area-list>
  </div>
</div>